<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Library & Feed - Prototype</title>
    <link rel="stylesheet" href="../design-tokens.css" />
    <style>
      :root {
        --font-ui:
          'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
        --font-display: 'Fraunces', 'Georgia', serif;
        --bg-glow: #f7e6b0;
        --header-height: 120px;
        --nav-height: 72px;
        --sub-tabs-height: 48px;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: var(--font-ui);
        color: var(--text-primary);
        background: var(--bg-app);
        min-height: 100vh;
        overflow-x: hidden;
      }

      body.theme-light {
        --bg-app: #f9f9f7;
        --bg-surface: #ffffff;
        --bg-surface-elevated: #f0f0ee;
        --text-primary: #242424;
        --text-secondary: #6b6b6b;
        --text-tertiary: #8e8e93;
        --border-subtle: #e5e5e5;
        --unread-dot: #007aff;
        --tag-bg: #e8e8e6;
        --tag-text: #6b6b6b;
        --nav-bg: #ffffff;
        --continue-bg: #ffffff;
      }

      body.theme-dark {
        --bg-app: #151515;
        --bg-surface: #1c1c1c;
        --bg-surface-elevated: #242424;
        --text-primary: #eaeaea;
        --text-secondary: #8e8e93;
        --text-tertiary: #636366;
        --border-subtle: #2c2c2e;
        --unread-dot: #007aff;
        --tag-bg: #2c2c2e;
        --tag-text: #8e8e93;
        --nav-bg: #1c1c1c;
        --continue-bg: #2c2c2e;
      }

      .app {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        max-width: 560px;
        margin: 0 auto;
        position: relative;
      }

      /* Header */
      .top-bar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 10;
        background: var(--bg-app);
        padding: 0.75rem 1rem 0;
      }

      .top-bar-inner {
        max-width: 560px;
        margin: 0 auto;
      }

      .top-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .icon-button {
        border: none;
        background: transparent;
        color: var(--text-primary);
        width: 38px;
        height: 38px;
        display: grid;
        place-items: center;
        padding: 0;
        cursor: pointer;
        border-radius: 8px;
      }

      .icon-button:hover {
        background: var(--bg-surface-elevated);
      }

      .icon-button svg {
        width: 22px;
        height: 22px;
      }

      .action-right {
        display: flex;
        gap: 0.25rem;
      }

      .page-header {
        display: flex;
        align-items: baseline;
        gap: 0.5rem;
      }

      .page-title {
        margin: 0;
        font-size: 2rem;
        font-weight: 700;
        letter-spacing: -0.02em;
      }

      .page-count {
        font-size: 2rem;
        font-weight: 400;
        color: var(--text-tertiary);
      }

      /* Sub-tabs */
      .sub-tabs {
        position: fixed;
        top: calc(var(--header-height) - 8px);
        left: 0;
        right: 0;
        z-index: 9;
        background: var(--bg-app);
        padding: 0 1rem 0.75rem;
        border-bottom: 1px solid var(--border-subtle);
      }

      .sub-tabs-inner {
        max-width: 560px;
        margin: 0 auto;
        display: flex;
        gap: 0.25rem;
      }

      .sub-tab {
        background: transparent;
        border: none;
        color: var(--text-tertiary);
        font-size: 0.95rem;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-family: inherit;
      }

      .sub-tab:hover {
        background: var(--bg-surface-elevated);
        color: var(--text-secondary);
      }

      .sub-tab.active {
        background: var(--bg-surface-elevated);
        color: var(--text-primary);
      }

      /* Article list */
      .content-area {
        flex: 1;
        padding: calc(var(--header-height) + var(--sub-tabs-height)) 0
          calc(var(--nav-height) + 80px);
        overflow-y: auto;
      }

      .article-list {
        display: flex;
        flex-direction: column;
      }

      .article-item {
        display: flex;
        gap: 0.75rem;
        padding: 1rem;
        border-bottom: 1px solid var(--border-subtle);
        cursor: pointer;
        position: relative;
      }

      .article-item:hover {
        background: var(--bg-surface);
      }

      .unread-indicator {
        position: absolute;
        left: 4px;
        top: 50%;
        transform: translateY(-50%);
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--unread-dot);
      }

      .article-main {
        flex: 1;
        min-width: 0;
        padding-left: 8px;
      }

      .article-source {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.35rem;
      }

      .source-icon {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        background: var(--bg-surface-elevated);
        display: grid;
        place-items: center;
        font-size: 12px;
        overflow: hidden;
      }

      .source-icon img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .source-name {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.03em;
      }

      .article-overflow {
        margin-left: auto;
      }

      .overflow-button {
        background: transparent;
        border: none;
        color: var(--text-tertiary);
        padding: 0.25rem;
        cursor: pointer;
        border-radius: 4px;
      }

      .overflow-button:hover {
        background: var(--bg-surface-elevated);
        color: var(--text-secondary);
      }

      .overflow-button svg {
        width: 18px;
        height: 18px;
      }

      .article-title {
        margin: 0 0 0.35rem;
        font-size: 1.05rem;
        font-weight: 600;
        line-height: 1.35;
        color: var(--text-primary);
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .article-title .tag {
        display: inline-block;
        background: var(--tag-bg);
        color: var(--tag-text);
        font-size: 0.7rem;
        font-weight: 500;
        padding: 0.15rem 0.4rem;
        border-radius: 4px;
        margin-left: 0.35rem;
        vertical-align: middle;
        text-transform: lowercase;
      }

      .article-preview {
        font-size: 0.9rem;
        color: var(--text-secondary);
        line-height: 1.45;
        margin-bottom: 0.4rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .article-meta {
        display: flex;
        align-items: center;
        gap: 0.35rem;
        font-size: 0.8rem;
        color: var(--text-tertiary);
      }

      .meta-separator {
        color: var(--text-tertiary);
      }

      .article-thumbnail {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        background: var(--bg-surface-elevated);
        flex-shrink: 0;
        overflow: hidden;
        align-self: center;
      }

      .article-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* Continue reading banner */
      .continue-banner {
        position: fixed;
        bottom: calc(var(--nav-height) + 12px);
        left: 1rem;
        right: 1rem;
        max-width: calc(560px - 2rem);
        margin: 0 auto;
        background: var(--continue-bg);
        border-radius: 12px;
        padding: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        z-index: 8;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .continue-avatar {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: var(--bg-surface-elevated);
        overflow: hidden;
        flex-shrink: 0;
      }

      .continue-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .continue-text {
        flex: 1;
        min-width: 0;
      }

      .continue-label {
        font-size: 0.8rem;
        color: var(--text-tertiary);
      }

      .continue-title {
        font-size: 0.9rem;
        color: var(--text-primary);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .continue-close {
        background: transparent;
        border: none;
        color: var(--text-tertiary);
        padding: 0.25rem;
        cursor: pointer;
        border-radius: 50%;
        flex-shrink: 0;
      }

      .continue-close:hover {
        background: var(--bg-surface-elevated);
      }

      .continue-close svg {
        width: 20px;
        height: 20px;
      }

      /* Bottom navigation */
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 10;
        background: var(--nav-bg);
        border-top: 1px solid var(--border-subtle);
        padding: 0.5rem 0 calc(0.5rem + env(safe-area-inset-bottom));
      }

      .bottom-nav-inner {
        max-width: 560px;
        margin: 0 auto;
        display: flex;
        justify-content: space-around;
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
        background: transparent;
        border: none;
        color: var(--text-tertiary);
        padding: 0.5rem 1rem;
        cursor: pointer;
        font-family: inherit;
        font-size: 0.7rem;
        font-weight: 500;
        min-width: 60px;
      }

      .nav-item:hover {
        color: var(--text-secondary);
      }

      .nav-item.active {
        color: var(--text-primary);
      }

      .nav-item svg {
        width: 24px;
        height: 24px;
      }

      /* View containers */
      .view {
        display: none;
      }

      .view.active {
        display: block;
      }

      /* Empty states */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4rem 2rem;
        text-align: center;
      }

      .empty-icon {
        width: 64px;
        height: 64px;
        margin-bottom: 1rem;
        color: var(--text-tertiary);
      }

      .empty-title {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .empty-description {
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      /* Settings list */
      .settings-list {
        padding: 1rem;
      }

      .settings-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background: var(--bg-surface);
        border-radius: 12px;
        margin-bottom: 0.75rem;
      }

      .settings-item-label {
        font-size: 1rem;
        color: var(--text-primary);
      }

      .toggle-switch {
        position: relative;
        width: 52px;
        height: 32px;
        background: var(--bg-surface-elevated);
        border-radius: 16px;
        border: none;
        cursor: pointer;
        transition: background 0.2s ease;
      }

      .toggle-switch::after {
        content: '';
        position: absolute;
        top: 4px;
        left: 4px;
        width: 24px;
        height: 24px;
        background: var(--text-primary);
        border-radius: 50%;
        transition: transform 0.2s ease;
      }

      .toggle-switch.active {
        background: #f2c94c;
      }

      .toggle-switch.active::after {
        transform: translateX(20px);
        background: #000;
      }

      /* Responsive */
      @media (min-width: 900px) {
        .app {
          max-width: 900px;
        }

        .top-bar-inner,
        .sub-tabs-inner,
        .bottom-nav-inner {
          max-width: 900px;
        }

        .article-thumbnail {
          width: 100px;
          height: 100px;
        }
      }
    </style>
  </head>
  <body class="theme-dark">
    <div class="app">
      <!-- Library View -->
      <div class="view active" id="library-view">
        <header class="top-bar">
          <div class="top-bar-inner">
            <div class="top-actions">
              <button class="icon-button" type="button" aria-label="Menu">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                >
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <div class="action-right">
                <button class="icon-button" type="button" aria-label="Add">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                </button>
                <button class="icon-button" type="button" aria-label="More options">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="12" cy="6" r="1.5"></circle>
                    <circle cx="12" cy="12" r="1.5"></circle>
                    <circle cx="12" cy="18" r="1.5"></circle>
                  </svg>
                </button>
              </div>
            </div>
            <div class="page-header">
              <h1 class="page-title" id="library-title">Inbox</h1>
              <span class="page-count" id="library-count">148</span>
            </div>
          </div>
        </header>

        <nav class="sub-tabs">
          <div class="sub-tabs-inner">
            <button class="sub-tab active" data-tab="inbox" data-view="library">Inbox</button>
            <button class="sub-tab" data-tab="later" data-view="library">Later</button>
            <button class="sub-tab" data-tab="archive" data-view="library">Archive</button>
          </div>
        </nav>

        <main class="content-area">
          <div class="article-list" id="library-list">
            <!-- Articles will be injected by JS -->
          </div>
        </main>

        <div class="continue-banner" id="continue-banner">
          <div class="continue-avatar">
            <img
              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23ff6b6b'/%3E%3C/svg%3E"
              alt=""
            />
          </div>
          <div class="continue-text">
            <div class="continue-label">Continue:</div>
            <div class="continue-title">Why Young Women Moved Left While...</div>
          </div>
          <button class="continue-close" type="button" aria-label="Dismiss">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- Feed View -->
      <div class="view" id="feed-view">
        <header class="top-bar">
          <div class="top-bar-inner">
            <div class="top-actions">
              <button class="icon-button" type="button" aria-label="Menu">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                >
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <div class="action-right">
                <button class="icon-button" type="button" aria-label="Add">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                </button>
                <button class="icon-button" type="button" aria-label="More options">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="12" cy="6" r="1.5"></circle>
                    <circle cx="12" cy="12" r="1.5"></circle>
                    <circle cx="12" cy="18" r="1.5"></circle>
                  </svg>
                </button>
              </div>
            </div>
            <div class="page-header">
              <h1 class="page-title" id="feed-title">Unseen</h1>
              <span class="page-count" id="feed-count">337</span>
            </div>
          </div>
        </header>

        <nav class="sub-tabs">
          <div class="sub-tabs-inner">
            <button class="sub-tab active" data-tab="unseen" data-view="feed">Unseen</button>
            <button class="sub-tab" data-tab="seen" data-view="feed">Seen</button>
          </div>
        </nav>

        <main class="content-area">
          <div class="article-list" id="feed-list">
            <!-- Articles will be injected by JS -->
          </div>
        </main>
      </div>

      <!-- Search View (placeholder) -->
      <div class="view" id="search-view">
        <header class="top-bar">
          <div class="top-bar-inner">
            <div class="page-header" style="padding-top: 2.5rem">
              <h1 class="page-title">Search</h1>
            </div>
          </div>
        </header>
        <main class="content-area">
          <div class="empty-state">
            <svg
              class="empty-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <div class="empty-title">Search your library</div>
            <div class="empty-description">Find articles, highlights, and notes</div>
          </div>
        </main>
      </div>

      <!-- Account View -->
      <div class="view" id="account-view">
        <header class="top-bar">
          <div class="top-bar-inner">
            <div class="page-header" style="padding-top: 2.5rem">
              <h1 class="page-title">Account</h1>
            </div>
          </div>
        </header>
        <main class="content-area">
          <div class="settings-list">
            <div class="settings-item">
              <span class="settings-item-label">Dark Mode</span>
              <button
                class="toggle-switch active"
                type="button"
                id="theme-toggle"
                aria-label="Toggle dark mode"
              ></button>
            </div>
            <div class="settings-item">
              <span class="settings-item-label">Connect Readwise</span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              >
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </div>
            <div class="settings-item">
              <span class="settings-item-label">Default WPM</span>
              <span style="color: var(--text-secondary)">320</span>
            </div>
            <div class="settings-item">
              <span class="settings-item-label">Log Out</span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
            </div>
          </div>
        </main>
      </div>

      <!-- Bottom Navigation -->
      <nav class="bottom-nav">
        <div class="bottom-nav-inner">
          <button class="nav-item" data-nav="home">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>Home</span>
          </button>
          <button class="nav-item active" data-nav="library">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
            >
              <line x1="4" y1="6" x2="4" y2="18"></line>
              <line x1="8" y1="6" x2="8" y2="18"></line>
              <line x1="12" y1="6" x2="12" y2="18"></line>
              <line x1="16" y1="8" x2="16" y2="16"></line>
              <line x1="20" y1="10" x2="20" y2="14"></line>
            </svg>
            <span>Library</span>
          </button>
          <button class="nav-item" data-nav="feed">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M4 11a9 9 0 0 1 9 9"></path>
              <path d="M4 4a16 16 0 0 1 16 16"></path>
              <circle cx="5" cy="19" r="1"></circle>
            </svg>
            <span>Feed</span>
          </button>
          <button class="nav-item" data-nav="search">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <span>Search</span>
          </button>
          <button class="nav-item" data-nav="account">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>Account</span>
          </button>
        </div>
      </nav>
    </div>

    <script>
      // Stub data
      const libraryData = {
        inbox: [
          {
            id: 1,
            source: 'X.COM',
            sourceIcon: 'X',
            title: 'Agents 201: Orchestrating Multiple Agents That Actually Work',
            tags: ['dev'],
            preview:
              'Multiple agents help by dividing tasks, working in parallel, and specializing i...',
            time: '2:53 pm',
            author: 'Rohit Ghumare',
            readTime: '7 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 2,
            source: 'OLLAMA.COM',
            sourceIcon: 'ü¶ô',
            title: 'Claude Code with Anthropic API compatibility',
            tags: ['dev'],
            preview: 'Ollama v0.14.0+ works with the Anthropic Messages API, letting you run Cl...',
            time: '2:03 pm',
            author: 'ollama.com',
            readTime: '2 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 3,
            source: 'X.COM',
            sourceIcon: 'X',
            title: 'Why Young Women Moved Left While Young Men Stayed Sane',
            tags: [],
            preview:
              'Young women moved sharply left politically because they are more sensitive...',
            time: '7:51 am',
            author: 'vittorio',
            readTime: '9 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 4,
            source: 'X.COM',
            sourceIcon: 'X',
            title: 'Two models from the AI Newsroom',
            tags: ['marketing', 'writing'],
            preview: 'Breaking down the latest developments in AI-powered content creation...',
            time: '6:30 am',
            author: 'Akshay Kothari',
            readTime: '5 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 5,
            source: 'SUBSTACK',
            sourceIcon: 'üìù',
            title: 'The Art of Building AI Products',
            tags: ['dev', 'product'],
            preview: 'What I learned from shipping 10 AI features in 6 months...',
            time: 'Yesterday',
            author: 'Lenny Rachitsky',
            readTime: '12 mins',
            unread: false,
            thumbnail: true,
          },
          {
            id: 6,
            source: 'GITHUB.COM',
            sourceIcon: 'üêô',
            title: 'Announcing GitHub Copilot Workspace',
            tags: ['dev'],
            preview: 'A new developer environment powered by AI agents...',
            time: 'Yesterday',
            author: 'Thomas Dohmke',
            readTime: '8 mins',
            unread: false,
            thumbnail: false,
          },
        ],
        later: [
          {
            id: 7,
            source: 'AMAZON.COM',
            sourceIcon: 'üì¶',
            title: 'The Everything Store: Jeff Bezos and the Age of Amazon',
            tags: ['business'],
            preview: 'The definitive story of Amazon and its brilliant founder...',
            time: '3 days ago',
            author: 'Brad Stone',
            readTime: '45 mins',
            unread: false,
            thumbnail: true,
          },
          {
            id: 8,
            source: 'MEDIUM.COM',
            sourceIcon: 'M',
            title: 'System Design Interview Prep Guide',
            tags: ['dev'],
            preview: 'Everything you need to know to ace your next system design interview...',
            time: '1 week ago',
            author: 'Alex Xu',
            readTime: '25 mins',
            unread: false,
            thumbnail: false,
          },
        ],
        archive: [
          {
            id: 9,
            source: 'HBR.ORG',
            sourceIcon: 'H',
            title: 'What Great Managers Do',
            tags: ['leadership'],
            preview: 'The best managers discover what is unique about each person...',
            time: '2 weeks ago',
            author: 'Marcus Buckingham',
            readTime: '15 mins',
            unread: false,
            thumbnail: false,
          },
        ],
      };

      const feedData = {
        unseen: [
          {
            id: 10,
            source: 'INVESTING AND PE',
            sourceIcon: 'üê¶',
            title: 'Investing and PE Twitter List: January 17, 2026 PM Edition',
            tags: [],
            preview:
              'Tweets from Roy Zuckerman, Brian Feroldi, acquire.com, Michael A. Arouet, GR...',
            time: '6:55 pm',
            author: 'Elad Mallel',
            readTime: '15 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 11,
            source: 'INVESTING AND PE',
            sourceIcon: 'üê¶',
            title: 'Investing and PE Twitter List: January 17, 2026 AM Edition',
            tags: [],
            preview:
              'Tweets from Roy Zuckerman, Nick Huber, Michael A. Arouet, Michael Girdley,...',
            time: '6:54 am',
            author: 'Elad Mallel',
            readTime: '9 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 12,
            source: 'AINEWS WITH SMOL.AI',
            sourceIcon: 'ü§ñ',
            title: 'ChatGPT starts testing ads on free tier + new $8/mo Go plan in the US',
            tags: [],
            preview: "OpenAI is testing ads on ChatGPT's free tier and launched a new $8...",
            time: '1:05 am',
            author: 'AINews with Smol.ai',
            readTime: '48 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 13,
            source: 'INVESTING AND PE',
            sourceIcon: 'üê¶',
            title: 'Investing and PE Twitter List: January 16, 2026 PM Edition',
            tags: [],
            preview: 'Tweets from Michael A. Arouet, Michael...',
            time: 'Jan 16th',
            author: 'Elad Mallel',
            readTime: '21 mins',
            unread: true,
            thumbnail: true,
          },
          {
            id: 14,
            source: 'MORNING BREW',
            sourceIcon: '‚òï',
            title: 'Daily Brew: Markets rally on Fed signals',
            tags: [],
            preview: 'The S&P 500 jumped 1.2% after the Federal Reserve hinted at rate cuts...',
            time: 'Jan 16th',
            author: 'Morning Brew',
            readTime: '6 mins',
            unread: true,
            thumbnail: false,
          },
        ],
        seen: [
          {
            id: 15,
            source: 'INVESTING AND PE',
            sourceIcon: 'üê¶',
            title: 'Investing and PE Twitter List: January 15, 2026 Edition',
            tags: [],
            preview: 'The best tweets from your investing and PE list...',
            time: 'Jan 15th',
            author: 'Elad Mallel',
            readTime: '18 mins',
            unread: false,
            thumbnail: true,
          },
          {
            id: 16,
            source: 'THE VERGE',
            sourceIcon: 'V',
            title: 'Apple Vision Pro 2 rumored for late 2026',
            tags: [],
            preview: 'Apple is reportedly working on a lighter, cheaper Vision Pro...',
            time: 'Jan 14th',
            author: 'The Verge',
            readTime: '4 mins',
            unread: false,
            thumbnail: true,
          },
        ],
      };

      // Generate thumbnail placeholder
      function getThumbnail(hasThumbnail, index) {
        if (!hasThumbnail) return '';
        const colors = [
          '#ff6b6b',
          '#4ecdc4',
          '#45b7d1',
          '#96ceb4',
          '#ffeaa7',
          '#dfe6e9',
          '#a29bfe',
          '#fd79a8',
        ];
        const color = colors[index % colors.length];
        return `<div class="article-thumbnail"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='${encodeURIComponent(color)}' width='100' height='100'/%3E%3C/svg%3E" alt=""></div>`;
      }

      // Render article item
      function renderArticle(article, index) {
        const tags = article.tags.map((tag) => `<span class="tag">${tag}</span>`).join('');
        return `
          <article class="article-item" data-id="${article.id}">
            ${article.unread ? '<div class="unread-indicator"></div>' : ''}
            <div class="article-main">
              <div class="article-source">
                <div class="source-icon">${article.sourceIcon}</div>
                <span class="source-name">${article.source}</span>
                <button class="overflow-button" type="button" aria-label="More options">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="6" cy="12" r="1.5"></circle>
                    <circle cx="12" cy="12" r="1.5"></circle>
                    <circle cx="18" cy="12" r="1.5"></circle>
                  </svg>
                </button>
              </div>
              <h2 class="article-title">${article.title}${tags}</h2>
              <p class="article-preview">${article.time} <span class="meta-separator">‚Ä¢</span> ${article.preview}</p>
              <div class="article-meta">
                <span>${article.author}</span>
                <span class="meta-separator">¬∑</span>
                <span>${article.readTime}</span>
              </div>
            </div>
            ${getThumbnail(article.thumbnail, index)}
          </article>
        `;
      }

      // State
      let currentNav = 'library';
      let currentLibraryTab = 'inbox';
      let currentFeedTab = 'unseen';

      // DOM elements
      const views = {
        library: document.getElementById('library-view'),
        feed: document.getElementById('feed-view'),
        search: document.getElementById('search-view'),
        account: document.getElementById('account-view'),
      };

      const libraryList = document.getElementById('library-list');
      const feedList = document.getElementById('feed-list');
      const libraryTitle = document.getElementById('library-title');
      const libraryCount = document.getElementById('library-count');
      const feedTitle = document.getElementById('feed-title');
      const feedCount = document.getElementById('feed-count');
      const continueBanner = document.getElementById('continue-banner');
      const themeToggle = document.getElementById('theme-toggle');

      // Render functions
      function renderLibrary() {
        const articles = libraryData[currentLibraryTab] || [];
        libraryList.innerHTML = articles.map((a, i) => renderArticle(a, i)).join('');

        const titles = { inbox: 'Inbox', later: 'Later', archive: 'Archive' };
        libraryTitle.textContent = titles[currentLibraryTab];
        libraryCount.textContent = articles.length;
      }

      function renderFeed() {
        const articles = feedData[currentFeedTab] || [];
        feedList.innerHTML = articles.map((a, i) => renderArticle(a, i)).join('');

        const titles = { unseen: 'Unseen', seen: 'Seen' };
        feedTitle.textContent = titles[currentFeedTab];
        feedCount.textContent = articles.length;
      }

      // Navigation
      function switchNav(nav) {
        currentNav = nav;

        // Update nav buttons
        document.querySelectorAll('.nav-item').forEach((btn) => {
          btn.classList.toggle('active', btn.dataset.nav === nav);
        });

        // Update views
        Object.keys(views).forEach((key) => {
          views[key].classList.toggle('active', key === nav);
        });

        // Show/hide floating elements
        continueBanner.style.display = nav === 'library' ? 'flex' : 'none';
      }

      // Sub-tab handlers
      function switchSubTab(tab, view) {
        if (view === 'library') {
          currentLibraryTab = tab;
          renderLibrary();

          document.querySelectorAll('.sub-tab[data-view="library"]').forEach((btn) => {
            btn.classList.toggle('active', btn.dataset.tab === tab);
          });
        } else if (view === 'feed') {
          currentFeedTab = tab;
          renderFeed();

          document.querySelectorAll('.sub-tab[data-view="feed"]').forEach((btn) => {
            btn.classList.toggle('active', btn.dataset.tab === tab);
          });
        }
      }

      // Event listeners
      document.querySelectorAll('.nav-item').forEach((btn) => {
        btn.addEventListener('click', () => {
          switchNav(btn.dataset.nav);
        });
      });

      document.querySelectorAll('.sub-tab').forEach((btn) => {
        btn.addEventListener('click', () => {
          switchSubTab(btn.dataset.tab, btn.dataset.view);
        });
      });

      // Continue banner close
      document.querySelector('.continue-close')?.addEventListener('click', () => {
        continueBanner.style.display = 'none';
      });

      // Theme toggle
      themeToggle.addEventListener('click', () => {
        const isDark = document.body.classList.contains('theme-dark');
        document.body.classList.toggle('theme-dark', !isDark);
        document.body.classList.toggle('theme-light', isDark);
        themeToggle.classList.toggle('active', !isDark);
      });

      // Initial render
      renderLibrary();
      renderFeed();
    </script>
  </body>
</html>
